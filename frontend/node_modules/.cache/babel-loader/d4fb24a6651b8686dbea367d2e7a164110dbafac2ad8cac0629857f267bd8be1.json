{"ast":null,"code":"var _jsxFileName = \"D:\\\\UDW\\\\my-am-app\\\\frontend\\\\src\\\\components\\\\BlogPostForm.js\",\n  _s = $RefreshSig$();\n// src/components/BlogPostForm.js\nimport React, { useState, useEffect } from 'react';\nimport { Container, Form, Button, Alert, Card, Row, Col, Spinner } from 'react-bootstrap';\nimport { articleApi } from '../services/api';\nimport { useNavigate, Link, useLocation } from 'react-router-dom';\nimport { FaImage, FaTag, FaUser, FaPen, FaExclamationCircle, FaHome, FaInfoCircle, FaSave } from 'react-icons/fa';\nimport Nav from './Nav';\nimport Footer from './Footer';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction BlogPostForm() {\n  _s();\n  const navigate = useNavigate();\n  const [formData, setFormData] = useState({\n    title: '',\n    category: '',\n    summary: '',\n    content: '',\n    image: '',\n    author: localStorage.getItem('username') || ''\n  });\n  const [errors, setErrors] = useState({});\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [submitSuccess, setSubmitSuccess] = useState(false);\n  const [submitError, setSubmitError] = useState('');\n  const [showPreview, setShowPreview] = useState(false);\n  const isLoggedIn = localStorage.getItem('isAuthenticated') === 'true';\n  const location = useLocation();\n\n  // Danh sách các danh mục\n  const categories = [\"Tin Mới\", \"Sự Kiện\", \"Công Nghệ\", \"Giáo Dục\", \"Kinh Tế\", \"Thể Thao\", \"Văn Hóa\", \"Du Lịch\"];\n  useEffect(() => {\n    // Kiểm tra đăng nhập\n    const isAuthenticated = localStorage.getItem('isAuthenticated') === 'true';\n    if (!isAuthenticated) {\n      // Lưu URL hiện tại để chuyển hướng lại sau khi đăng nhập\n      navigate('/login', {\n        state: {\n          from: location.pathname\n        }\n      });\n    }\n  }, [navigate, location]);\n\n  // Tự động cuộn lên đầu trang khi component được mount\n  useEffect(() => {\n    window.scrollTo(0, 0);\n  }, []);\n\n  // Tạo sessionId cho người dùng chưa đăng nhập\n  useEffect(() => {\n    if (!isLoggedIn && !sessionStorage.getItem('guestSessionId')) {\n      const sessionId = `guest_${Date.now()}_${Math.random().toString(36).substring(2, 9)}`;\n      sessionStorage.setItem('guestSessionId', sessionId);\n    }\n  }, [isLoggedIn]);\n  const handleChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setFormData({\n      ...formData,\n      [name]: value\n    });\n\n    // Xóa lỗi khi người dùng bắt đầu sửa\n    if (errors[name]) {\n      const updatedErrors = {\n        ...errors\n      };\n      delete updatedErrors[name];\n      setErrors(updatedErrors);\n    }\n  };\n  const validateForm = () => {\n    const newErrors = {};\n    if (!formData.title.trim()) {\n      newErrors.title = 'Vui lòng nhập tiêu đề';\n    } else if (formData.title.length < 10) {\n      newErrors.title = 'Tiêu đề quá ngắn (tối thiểu 10 ký tự)';\n    }\n    if (!formData.category) {\n      newErrors.category = 'Vui lòng chọn danh mục';\n    }\n    if (!formData.summary.trim()) {\n      newErrors.summary = 'Vui lòng nhập tóm tắt';\n    } else if (formData.summary.length < 30) {\n      newErrors.summary = 'Tóm tắt quá ngắn (tối thiểu 30 ký tự)';\n    }\n    if (!formData.content.trim()) {\n      newErrors.content = 'Vui lòng nhập nội dung';\n    } else if (formData.content.length < 100) {\n      newErrors.content = 'Nội dung quá ngắn (tối thiểu 100 ký tự)';\n    }\n    if (!formData.image.trim()) {\n      newErrors.image = 'Vui lòng nhập đường dẫn hình ảnh';\n    } else {\n      if (formData.image.startsWith('http://') || formData.image.startsWith('https://')) {\n        try {\n          new URL(formData.image);\n        } catch (e) {\n          newErrors.image = 'Đường dẫn hình ảnh không hợp lệ';\n        }\n      } else if (!formData.image.startsWith('/assets/')) {\n        newErrors.image = 'Đường dẫn hình ảnh phải bắt đầu bằng /assets/ hoặc là URL đầy đủ';\n      }\n    }\n    if (!formData.author.trim()) {\n      newErrors.author = 'Vui lòng nhập tên tác giả';\n    }\n    return newErrors;\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n\n    // Kiểm tra lỗi\n    const formErrors = validateForm();\n    console.log(\"Form validation errors:\", formErrors);\n    if (Object.keys(formErrors).length > 0) {\n      setErrors(formErrors);\n      window.scrollTo(0, 0);\n      return;\n    }\n    setIsSubmitting(true);\n    setSubmitError('');\n    try {\n      console.log(\"Submitting form data:\", formData);\n\n      // Thêm trạng thái 'pending' cho bài viết mới\n      const postData = {\n        ...formData,\n        status: 'pending',\n        date: new Date().toISOString()\n      };\n\n      // Thêm sessionId nếu người dùng chưa đăng nhập\n      if (!isLoggedIn) {\n        postData.sessionId = sessionStorage.getItem('guestSessionId');\n      }\n      const response = await articleApi.create(postData);\n      console.log(\"API response:\", response);\n      setSubmitSuccess(true);\n      setFormData({\n        title: '',\n        category: '',\n        summary: '',\n        content: '',\n        image: '',\n        author: localStorage.getItem('username') || ''\n      });\n\n      // Cuộn lên đầu trang\n      window.scrollTo(0, 0);\n    } catch (error) {\n      console.error('Error submitting post:', error);\n      setSubmitError('Đã xảy ra lỗi khi gửi bài viết. Vui lòng thử lại sau.');\n      window.scrollTo(0, 0);\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  // Chuyển đổi chế độ xem trước\n  const togglePreview = () => {\n    // Nếu đang trong chế độ xem trước và có lỗi, hiển thị lỗi\n    if (showPreview) {\n      setShowPreview(false);\n    } else {\n      const formErrors = validateForm();\n      if (Object.keys(formErrors).length > 0) {\n        setErrors(formErrors);\n        window.scrollTo(0, 0);\n      } else {\n        setShowPreview(true);\n        window.scrollTo(0, 0);\n      }\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Nav, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Container, {\n      className: \"py-5 mt-5\",\n      children: /*#__PURE__*/_jsxDEV(Row, {\n        className: \"justify-content-center\",\n        children: /*#__PURE__*/_jsxDEV(Col, {\n          md: 10,\n          lg: 8,\n          children: [/*#__PURE__*/_jsxDEV(\"nav\", {\n            \"aria-label\": \"breadcrumb\",\n            className: \"mb-4\",\n            children: /*#__PURE__*/_jsxDEV(\"ol\", {\n              className: \"breadcrumb\",\n              children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                className: \"breadcrumb-item\",\n                children: /*#__PURE__*/_jsxDEV(Link, {\n                  to: \"/\",\n                  children: [/*#__PURE__*/_jsxDEV(FaHome, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 197,\n                    columnNumber: 62\n                  }, this), \" Trang ch\\u1EE7\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 197,\n                  columnNumber: 49\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 197,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                className: \"breadcrumb-item active\",\n                \"aria-current\": \"page\",\n                children: \"\\u0110\\u0103ng b\\xE0i vi\\u1EBFt\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 198,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 196,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 195,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Card, {\n            className: \"shadow-sm\",\n            children: /*#__PURE__*/_jsxDEV(Card.Body, {\n              className: \"p-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                className: \"text-center mb-4\",\n                children: \"\\u0110\\u0103ng b\\xE0i vi\\u1EBFt m\\u1EDBi\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 204,\n                columnNumber: 17\n              }, this), !isLoggedIn && /*#__PURE__*/_jsxDEV(Alert, {\n                variant: \"info\",\n                className: \"mb-4\",\n                children: [/*#__PURE__*/_jsxDEV(FaInfoCircle, {\n                  className: \"me-2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 208,\n                  columnNumber: 21\n                }, this), \"B\\u1EA1n \\u0111ang \\u0111\\u0103ng b\\xE0i v\\u1EDBi t\\u01B0 c\\xE1ch kh\\xE1ch. B\\xE0i vi\\u1EBFt s\\u1EBD \\u0111\\u01B0\\u1EE3c ki\\u1EC3m duy\\u1EC7t tr\\u01B0\\u1EDBc khi xu\\u1EA5t b\\u1EA3n. \\u0110\\u1EC3 qu\\u1EA3n l\\xFD b\\xE0i vi\\u1EBFt t\\u1ED1t h\\u01A1n, vui l\\xF2ng \", /*#__PURE__*/_jsxDEV(Link, {\n                  to: \"/login\",\n                  children: \"\\u0111\\u0103ng nh\\u1EADp\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 210,\n                  columnNumber: 59\n                }, this), \".\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 207,\n                columnNumber: 19\n              }, this), submitSuccess && /*#__PURE__*/_jsxDEV(Alert, {\n                variant: \"success\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-center\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"success-checkmark\",\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"check-icon\",\n                      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"icon-line line-tip\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 219,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"icon-line line-long\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 220,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"icon-circle\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 221,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"icon-fix\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 222,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 218,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 217,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n                    children: \"G\\u1EEDi b\\xE0i vi\\u1EBFt th\\xE0nh c\\xF4ng!\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 225,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    children: \"B\\xE0i vi\\u1EBFt c\\u1EE7a b\\u1EA1n \\u0111\\xE3 \\u0111\\u01B0\\u1EE3c g\\u1EEDi v\\xE0 \\u0111ang ch\\u1EDD ph\\xEA duy\\u1EC7t t\\u1EEB qu\\u1EA3n tr\\u1ECB vi\\xEAn.\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 226,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    children: \"B\\xE0i vi\\u1EBFt s\\u1EBD \\u0111\\u01B0\\u1EE3c hi\\u1EC3n th\\u1ECB c\\xF4ng khai sau khi \\u0111\\u01B0\\u1EE3c ph\\xEA duy\\u1EC7t.\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 227,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"mt-4\",\n                    children: [isLoggedIn ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                        children: \"B\\u1EA1n c\\xF3 th\\u1EC3 theo d\\xF5i tr\\u1EA1ng th\\xE1i b\\xE0i vi\\u1EBFt trong ph\\u1EA7n \\\"B\\xE0i vi\\u1EBFt c\\u1EE7a t\\xF4i\\\".\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 232,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(Button, {\n                        variant: \"primary\",\n                        className: \"me-2\",\n                        onClick: () => navigate('/my-posts'),\n                        children: \"Xem b\\xE0i vi\\u1EBFt c\\u1EE7a t\\xF4i\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 233,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n                      children: /*#__PURE__*/_jsxDEV(\"p\", {\n                        children: \"B\\u1EA1n c\\xF3 th\\u1EC3 quay l\\u1EA1i trang ch\\u1EE7 ho\\u1EB7c \\u0111\\u0103ng b\\xE0i vi\\u1EBFt m\\u1EDBi.\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 243,\n                        columnNumber: 29\n                      }, this)\n                    }, void 0, false), /*#__PURE__*/_jsxDEV(Button, {\n                      variant: \"outline-primary\",\n                      onClick: () => {\n                        setSubmitSuccess(false);\n                        setShowPreview(false);\n                      },\n                      children: \"\\u0110\\u0103ng b\\xE0i vi\\u1EBFt m\\u1EDBi\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 246,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 229,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 216,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 215,\n                columnNumber: 19\n              }, this), submitError && /*#__PURE__*/_jsxDEV(Alert, {\n                variant: \"danger\",\n                children: [/*#__PURE__*/_jsxDEV(FaExclamationCircle, {\n                  className: \"me-2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 262,\n                  columnNumber: 21\n                }, this), submitError]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 261,\n                columnNumber: 19\n              }, this), Object.keys(errors).length > 0 && /*#__PURE__*/_jsxDEV(Alert, {\n                variant: \"danger\",\n                children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                  children: \"Vui l\\xF2ng s\\u1EEDa c\\xE1c l\\u1ED7i sau:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 269,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n                  className: \"mb-0\",\n                  children: Object.values(errors).map((error, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n                    children: error\n                  }, index, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 272,\n                    columnNumber: 25\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 270,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 268,\n                columnNumber: 19\n              }, this), !submitSuccess && !showPreview && /*#__PURE__*/_jsxDEV(Form, {\n                onSubmit: handleSubmit,\n                children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n                  className: \"mb-3\",\n                  children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                    children: [/*#__PURE__*/_jsxDEV(FaPen, {\n                      className: \"me-2\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 282,\n                      columnNumber: 25\n                    }, this), \"Ti\\xEAu \\u0111\\u1EC1\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 281,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                    type: \"text\",\n                    name: \"title\",\n                    value: formData.title,\n                    onChange: handleChange,\n                    isInvalid: !!errors.title,\n                    placeholder: \"Nh\\u1EADp ti\\xEAu \\u0111\\u1EC1 b\\xE0i vi\\u1EBFt\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 285,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(Form.Control.Feedback, {\n                    type: \"invalid\",\n                    children: errors.title\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 293,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(Form.Text, {\n                    className: \"text-muted\",\n                    children: \"Ti\\xEAu \\u0111\\u1EC1 n\\xEAn ng\\u1EAFn g\\u1ECDn, h\\u1EA5p d\\u1EABn v\\xE0 m\\xF4 t\\u1EA3 \\u0111\\u01B0\\u1EE3c n\\u1ED9i dung b\\xE0i vi\\u1EBFt (t\\u1ED1i thi\\u1EC3u 10 k\\xFD t\\u1EF1)\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 296,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 280,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n                  className: \"mb-3\",\n                  children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                    children: [/*#__PURE__*/_jsxDEV(FaTag, {\n                      className: \"me-2\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 303,\n                      columnNumber: 25\n                    }, this), \"Danh m\\u1EE5c\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 302,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(Form.Select, {\n                    name: \"category\",\n                    value: formData.category,\n                    onChange: handleChange,\n                    isInvalid: !!errors.category,\n                    children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"\",\n                      children: \"Ch\\u1ECDn danh m\\u1EE5c\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 312,\n                      columnNumber: 25\n                    }, this), categories.map((category, index) => /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: category,\n                      children: category\n                    }, index, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 314,\n                      columnNumber: 27\n                    }, this))]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 306,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(Form.Control.Feedback, {\n                    type: \"invalid\",\n                    children: errors.category\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 319,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 301,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n                  className: \"mb-3\",\n                  children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                    children: \"T\\xF3m t\\u1EAFt\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 325,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                    as: \"textarea\",\n                    rows: 3,\n                    name: \"summary\",\n                    value: formData.summary,\n                    onChange: handleChange,\n                    isInvalid: !!errors.summary,\n                    placeholder: \"Nh\\u1EADp t\\xF3m t\\u1EAFt n\\u1ED9i dung b\\xE0i vi\\u1EBFt\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 326,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(Form.Control.Feedback, {\n                    type: \"invalid\",\n                    children: errors.summary\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 335,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(Form.Text, {\n                    className: \"text-muted\",\n                    children: \"T\\xF3m t\\u1EAFt ng\\u1EAFn g\\u1ECDn n\\u1ED9i dung ch\\xEDnh c\\u1EE7a b\\xE0i vi\\u1EBFt (t\\u1ED1i thi\\u1EC3u 30 k\\xFD t\\u1EF1)\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 338,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 324,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n                  className: \"mb-3\",\n                  children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                    children: \"N\\u1ED9i dung\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 344,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                    as: \"textarea\",\n                    rows: 10,\n                    name: \"content\",\n                    value: formData.content,\n                    onChange: handleChange,\n                    isInvalid: !!errors.content,\n                    placeholder: \"Nh\\u1EADp n\\u1ED9i dung \\u0111\\u1EA7y \\u0111\\u1EE7 c\\u1EE7a b\\xE0i vi\\u1EBFt\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 345,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(Form.Control.Feedback, {\n                    type: \"invalid\",\n                    children: errors.content\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 354,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(Form.Text, {\n                    className: \"text-muted\",\n                    children: \"B\\u1EA1n c\\xF3 th\\u1EC3 s\\u1EED d\\u1EE5ng HTML c\\u01A1 b\\u1EA3n \\u0111\\u1EC3 \\u0111\\u1ECBnh d\\u1EA1ng b\\xE0i vi\\u1EBFt (th\\u1EBB p, h2, h3, strong, em, ul, li, a...). N\\u1ED9i dung c\\u1EA7n t\\u1ED1i thi\\u1EC3u 100 k\\xFD t\\u1EF1.\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 357,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 343,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n                  className: \"mb-3\",\n                  children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                    children: [/*#__PURE__*/_jsxDEV(FaImage, {\n                      className: \"me-2\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 365,\n                      columnNumber: 25\n                    }, this), \"\\u0110\\u01B0\\u1EDDng d\\u1EABn h\\xECnh \\u1EA3nh\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 364,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                    type: \"text\",\n                    name: \"image\",\n                    value: formData.image,\n                    onChange: handleChange,\n                    isInvalid: !!errors.image,\n                    placeholder: \"Nh\\u1EADp \\u0111\\u01B0\\u1EDDng d\\u1EABn h\\xECnh \\u1EA3nh \\u0111\\u1EA1i di\\u1EC7n cho b\\xE0i vi\\u1EBFt\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 368,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(Form.Control.Feedback, {\n                    type: \"invalid\",\n                    children: errors.image\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 376,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(Form.Text, {\n                    className: \"text-muted\",\n                    children: \"Nh\\u1EADp \\u0111\\u01B0\\u1EDDng d\\u1EABn h\\xECnh \\u1EA3nh (v\\xED d\\u1EE5: /assets/img/portfolio/thumbnails/1.jpg) ho\\u1EB7c URL \\u0111\\u1EA7y \\u0111\\u1EE7\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 379,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 363,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n                  className: \"mb-4\",\n                  children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                    children: [/*#__PURE__*/_jsxDEV(FaUser, {\n                      className: \"me-2\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 386,\n                      columnNumber: 25\n                    }, this), \"T\\xE1c gi\\u1EA3\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 385,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                    type: \"text\",\n                    name: \"author\",\n                    value: formData.author,\n                    onChange: handleChange,\n                    isInvalid: !!errors.author,\n                    placeholder: \"Nh\\u1EADp t\\xEAn t\\xE1c gi\\u1EA3\",\n                    readOnly: isLoggedIn\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 389,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(Form.Control.Feedback, {\n                    type: \"invalid\",\n                    children: errors.author\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 398,\n                    columnNumber: 23\n                  }, this), isLoggedIn ? /*#__PURE__*/_jsxDEV(Form.Text, {\n                    className: \"text-muted\",\n                    children: \"B\\xE0i vi\\u1EBFt s\\u1EBD \\u0111\\u01B0\\u1EE3c \\u0111\\u0103ng v\\u1EDBi t\\xEAn ng\\u01B0\\u1EDDi d\\xF9ng c\\u1EE7a b\\u1EA1n\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 402,\n                    columnNumber: 25\n                  }, this) : /*#__PURE__*/_jsxDEV(Form.Text, {\n                    className: \"text-muted\",\n                    children: \"Nh\\u1EADp t\\xEAn c\\u1EE7a b\\u1EA1n \\u0111\\u1EC3 hi\\u1EC3n th\\u1ECB c\\xF9ng b\\xE0i vi\\u1EBFt\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 406,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 384,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"d-grid gap-2\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"d-flex gap-2\",\n                    children: [/*#__PURE__*/_jsxDEV(Button, {\n                      variant: \"outline-primary\",\n                      className: \"w-50\",\n                      onClick: togglePreview,\n                      children: \"Xem tr\\u01B0\\u1EDBc\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 414,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(Button, {\n                      type: \"submit\",\n                      variant: \"primary\",\n                      className: \"w-50\",\n                      disabled: isSubmitting,\n                      children: isSubmitting ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                        children: [/*#__PURE__*/_jsxDEV(Spinner, {\n                          as: \"span\",\n                          animation: \"border\",\n                          size: \"sm\",\n                          role: \"status\",\n                          \"aria-hidden\": \"true\",\n                          className: \"me-2\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 429,\n                          columnNumber: 31\n                        }, this), \"\\u0110ang g\\u1EEDi...\"]\n                      }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n                        children: [/*#__PURE__*/_jsxDEV(FaSave, {\n                          className: \"me-2\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 441,\n                          columnNumber: 31\n                        }, this), \" G\\u1EEDi b\\xE0i vi\\u1EBFt\"]\n                      }, void 0, true)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 421,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 413,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(Button, {\n                    variant: \"outline-secondary\",\n                    onClick: () => navigate('/'),\n                    children: \"H\\u1EE7y v\\xE0 quay l\\u1EA1i\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 447,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 412,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Alert, {\n                  variant: \"warning\",\n                  className: \"mt-4\",\n                  children: [/*#__PURE__*/_jsxDEV(FaInfoCircle, {\n                    className: \"me-2\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 456,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"L\\u01B0u \\xFD:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 457,\n                    columnNumber: 23\n                  }, this), \" B\\xE0i vi\\u1EBFt s\\u1EBD \\u0111\\u01B0\\u1EE3c ki\\u1EC3m duy\\u1EC7t tr\\u01B0\\u1EDBc khi xu\\u1EA5t b\\u1EA3n. Qu\\xE1 tr\\xECnh n\\xE0y c\\xF3 th\\u1EC3 m\\u1EA5t t\\u1EEB 24-48 gi\\u1EDD.\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 455,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 279,\n                columnNumber: 19\n              }, this), !submitSuccess && showPreview && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"article-preview\",\n                children: [/*#__PURE__*/_jsxDEV(Alert, {\n                  variant: \"info\",\n                  className: \"mb-4\",\n                  children: [/*#__PURE__*/_jsxDEV(FaInfoCircle, {\n                    className: \"me-2\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 465,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"Ch\\u1EBF \\u0111\\u1ED9 xem tr\\u01B0\\u1EDBc:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 466,\n                    columnNumber: 23\n                  }, this), \" \\u0110\\xE2y l\\xE0 c\\xE1ch b\\xE0i vi\\u1EBFt c\\u1EE7a b\\u1EA1n s\\u1EBD hi\\u1EC3n th\\u1ECB sau khi \\u0111\\u01B0\\u1EE3c ph\\xEA duy\\u1EC7t.\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 464,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n                  className: \"mb-3\",\n                  children: formData.title || \"Tiêu đề bài viết\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 469,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"d-flex align-items-center mb-3\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"badge bg-primary me-2\",\n                    children: formData.category || \"Danh mục\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 472,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n                    className: \"text-muted me-3\",\n                    children: [/*#__PURE__*/_jsxDEV(FaUser, {\n                      className: \"me-1\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 474,\n                      columnNumber: 25\n                    }, this), \" \", formData.author || \"Tác giả\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 473,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 471,\n                  columnNumber: 21\n                }, this), formData.image && /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: formData.image,\n                  alt: formData.title,\n                  className: \"img-fluid rounded mb-3\",\n                  style: {\n                    maxHeight: '300px',\n                    objectFit: 'cover',\n                    width: '100%'\n                  },\n                  onError: e => {\n                    e.target.onerror = null;\n                    e.target.src = '/assets/img/placeholder.jpg';\n                    e.target.alt = 'Ảnh không khả dụng';\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 479,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"mb-4\",\n                  children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                    className: \"mb-2\",\n                    children: \"T\\xF3m t\\u1EAFt:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 493,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    children: formData.summary || \"Tóm tắt nội dung bài viết\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 494,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 492,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"mb-4\",\n                  children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                    className: \"mb-2\",\n                    children: \"N\\u1ED9i dung:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 498,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    dangerouslySetInnerHTML: {\n                      __html: formData.content || \"<p>Nội dung bài viết</p>\"\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 499,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 497,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"d-flex gap-2 mt-4\",\n                  children: [/*#__PURE__*/_jsxDEV(Button, {\n                    variant: \"outline-secondary\",\n                    className: \"w-50\",\n                    onClick: togglePreview,\n                    children: \"Tr\\u1EDF l\\u1EA1i ch\\u1EC9nh s\\u1EEDa\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 503,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(Button, {\n                    variant: \"primary\",\n                    className: \"w-50\",\n                    onClick: handleSubmit,\n                    disabled: isSubmitting,\n                    children: isSubmitting ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                      children: [/*#__PURE__*/_jsxDEV(Spinner, {\n                        as: \"span\",\n                        animation: \"border\",\n                        size: \"sm\",\n                        role: \"status\",\n                        \"aria-hidden\": \"true\",\n                        className: \"me-2\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 518,\n                        columnNumber: 29\n                      }, this), \"\\u0110ang g\\u1EEDi...\"]\n                    }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n                      children: [/*#__PURE__*/_jsxDEV(FaSave, {\n                        className: \"me-2\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 530,\n                        columnNumber: 29\n                      }, this), \" G\\u1EEDi b\\xE0i vi\\u1EBFt\"]\n                    }, void 0, true)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 510,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 502,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 463,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 203,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 202,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 542,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n_s(BlogPostForm, \"t0KoDcn+S/+92QqLxXMcK6OTlvE=\", false, function () {\n  return [useNavigate, useLocation];\n});\n_c = BlogPostForm;\nexport default BlogPostForm;\nvar _c;\n$RefreshReg$(_c, \"BlogPostForm\");","map":{"version":3,"names":["React","useState","useEffect","Container","Form","Button","Alert","Card","Row","Col","Spinner","articleApi","useNavigate","Link","useLocation","FaImage","FaTag","FaUser","FaPen","FaExclamationCircle","FaHome","FaInfoCircle","FaSave","Nav","Footer","jsxDEV","_jsxDEV","Fragment","_Fragment","BlogPostForm","_s","navigate","formData","setFormData","title","category","summary","content","image","author","localStorage","getItem","errors","setErrors","isSubmitting","setIsSubmitting","submitSuccess","setSubmitSuccess","submitError","setSubmitError","showPreview","setShowPreview","isLoggedIn","location","categories","isAuthenticated","state","from","pathname","window","scrollTo","sessionStorage","sessionId","Date","now","Math","random","toString","substring","setItem","handleChange","e","name","value","target","updatedErrors","validateForm","newErrors","trim","length","startsWith","URL","handleSubmit","preventDefault","formErrors","console","log","Object","keys","postData","status","date","toISOString","response","create","error","togglePreview","children","fileName","_jsxFileName","lineNumber","columnNumber","className","md","lg","to","Body","variant","onClick","values","map","index","onSubmit","Group","Label","Control","type","onChange","isInvalid","placeholder","Feedback","Text","Select","as","rows","readOnly","disabled","animation","size","role","src","alt","style","maxHeight","objectFit","width","onError","onerror","dangerouslySetInnerHTML","__html","_c","$RefreshReg$"],"sources":["D:/UDW/my-am-app/frontend/src/components/BlogPostForm.js"],"sourcesContent":["// src/components/BlogPostForm.js\r\nimport React, { useState, useEffect } from 'react';\r\nimport { Container, Form, Button, Alert, Card, Row, Col, Spinner } from 'react-bootstrap';\r\nimport { articleApi } from '../services/api';\r\nimport { useNavigate, Link, useLocation } from 'react-router-dom';\r\nimport { FaImage, FaTag, FaUser, FaPen, FaExclamationCircle, FaHome, FaInfoCircle, FaSave } from 'react-icons/fa';\r\nimport Nav from './Nav';\r\nimport Footer from './Footer';\r\n\r\nfunction BlogPostForm() {\r\n  const navigate = useNavigate();\r\n  const [formData, setFormData] = useState({\r\n    title: '',\r\n    category: '',\r\n    summary: '',\r\n    content: '',\r\n    image: '',\r\n    author: localStorage.getItem('username') || ''\r\n  });\r\n  \r\n  const [errors, setErrors] = useState({});\r\n  const [isSubmitting, setIsSubmitting] = useState(false);\r\n  const [submitSuccess, setSubmitSuccess] = useState(false);\r\n  const [submitError, setSubmitError] = useState('');\r\n  const [showPreview, setShowPreview] = useState(false);\r\n  const isLoggedIn = localStorage.getItem('isAuthenticated') === 'true';\r\n  const location = useLocation();\r\n  \r\n  // Danh sách các danh mục\r\n  const categories = [\r\n    \"Tin Mới\", \"Sự Kiện\", \"Công Nghệ\", \"Giáo Dục\", \"Kinh Tế\", \"Thể Thao\", \"Văn Hóa\", \"Du Lịch\"\r\n  ];\r\n  useEffect(() => {\r\n    // Kiểm tra đăng nhập\r\n    const isAuthenticated = localStorage.getItem('isAuthenticated') === 'true';\r\n    if (!isAuthenticated) {\r\n      // Lưu URL hiện tại để chuyển hướng lại sau khi đăng nhập\r\n      navigate('/login', { state: { from: location.pathname } });\r\n    }\r\n  }, [navigate, location]);\r\n\r\n  // Tự động cuộn lên đầu trang khi component được mount\r\n  useEffect(() => {\r\n    window.scrollTo(0, 0);\r\n  }, []);\r\n  \r\n  // Tạo sessionId cho người dùng chưa đăng nhập\r\n  useEffect(() => {\r\n    if (!isLoggedIn && !sessionStorage.getItem('guestSessionId')) {\r\n      const sessionId = `guest_${Date.now()}_${Math.random().toString(36).substring(2, 9)}`;\r\n      sessionStorage.setItem('guestSessionId', sessionId);\r\n    }\r\n  }, [isLoggedIn]);\r\n  \r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setFormData({\r\n      ...formData,\r\n      [name]: value\r\n    });\r\n    \r\n    // Xóa lỗi khi người dùng bắt đầu sửa\r\n    if (errors[name]) {\r\n      const updatedErrors = { ...errors };\r\n      delete updatedErrors[name];\r\n      setErrors(updatedErrors);\r\n    }\r\n  };\r\n  \r\n  const validateForm = () => {\r\n    const newErrors = {};\r\n    \r\n    if (!formData.title.trim()) {\r\n      newErrors.title = 'Vui lòng nhập tiêu đề';\r\n    } else if (formData.title.length < 10) {\r\n      newErrors.title = 'Tiêu đề quá ngắn (tối thiểu 10 ký tự)';\r\n    }\r\n    \r\n    if (!formData.category) {\r\n      newErrors.category = 'Vui lòng chọn danh mục';\r\n    }\r\n    \r\n    if (!formData.summary.trim()) {\r\n      newErrors.summary = 'Vui lòng nhập tóm tắt';\r\n    } else if (formData.summary.length < 30) {\r\n      newErrors.summary = 'Tóm tắt quá ngắn (tối thiểu 30 ký tự)';\r\n    }\r\n    \r\n    if (!formData.content.trim()) {\r\n      newErrors.content = 'Vui lòng nhập nội dung';\r\n    } else if (formData.content.length < 100) {\r\n      newErrors.content = 'Nội dung quá ngắn (tối thiểu 100 ký tự)';\r\n    }\r\n    \r\n    if (!formData.image.trim()) {\r\n      newErrors.image = 'Vui lòng nhập đường dẫn hình ảnh';\r\n    } else {\r\n      if (formData.image.startsWith('http://') || formData.image.startsWith('https://')) {\r\n        try {\r\n          new URL(formData.image);\r\n        } catch (e) {\r\n          newErrors.image = 'Đường dẫn hình ảnh không hợp lệ';\r\n        }\r\n      } \r\n      else if (!formData.image.startsWith('/assets/')) {\r\n        newErrors.image = 'Đường dẫn hình ảnh phải bắt đầu bằng /assets/ hoặc là URL đầy đủ';\r\n      }\r\n    }\r\n    \r\n    if (!formData.author.trim()) {\r\n      newErrors.author = 'Vui lòng nhập tên tác giả';\r\n    }\r\n    \r\n    return newErrors;\r\n  };\r\n  \r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    \r\n    // Kiểm tra lỗi\r\n    const formErrors = validateForm();\r\n    console.log(\"Form validation errors:\", formErrors);\r\n    \r\n    if (Object.keys(formErrors).length > 0) {\r\n      setErrors(formErrors);\r\n      window.scrollTo(0, 0);\r\n      return;\r\n    }\r\n    \r\n    setIsSubmitting(true);\r\n    setSubmitError('');\r\n    \r\n    try {\r\n      console.log(\"Submitting form data:\", formData);\r\n      \r\n      // Thêm trạng thái 'pending' cho bài viết mới\r\n      const postData = {\r\n        ...formData,\r\n        status: 'pending',\r\n        date: new Date().toISOString()\r\n      };\r\n      \r\n      // Thêm sessionId nếu người dùng chưa đăng nhập\r\n      if (!isLoggedIn) {\r\n        postData.sessionId = sessionStorage.getItem('guestSessionId');\r\n      }\r\n      \r\n      const response = await articleApi.create(postData);\r\n      console.log(\"API response:\", response);\r\n      \r\n      setSubmitSuccess(true);\r\n      setFormData({\r\n        title: '',\r\n        category: '',\r\n        summary: '',\r\n        content: '',\r\n        image: '',\r\n        author: localStorage.getItem('username') || ''\r\n      });\r\n      \r\n      // Cuộn lên đầu trang\r\n      window.scrollTo(0, 0);\r\n    } catch (error) {\r\n      console.error('Error submitting post:', error);\r\n      setSubmitError('Đã xảy ra lỗi khi gửi bài viết. Vui lòng thử lại sau.');\r\n      window.scrollTo(0, 0);\r\n    } finally {\r\n      setIsSubmitting(false);\r\n    }\r\n  };\r\n  \r\n  // Chuyển đổi chế độ xem trước\r\n  const togglePreview = () => {\r\n    // Nếu đang trong chế độ xem trước và có lỗi, hiển thị lỗi\r\n    if (showPreview) {\r\n      setShowPreview(false);\r\n    } else {\r\n      const formErrors = validateForm();\r\n      if (Object.keys(formErrors).length > 0) {\r\n        setErrors(formErrors);\r\n        window.scrollTo(0, 0);\r\n      } else {\r\n        setShowPreview(true);\r\n        window.scrollTo(0, 0);\r\n      }\r\n    }\r\n  };\r\n  \r\n  return (\r\n    <>\r\n      <Nav />\r\n      <Container className=\"py-5 mt-5\">\r\n        <Row className=\"justify-content-center\">\r\n          <Col md={10} lg={8}>\r\n            <nav aria-label=\"breadcrumb\" className=\"mb-4\">\r\n              <ol className=\"breadcrumb\">\r\n                <li className=\"breadcrumb-item\"><Link to=\"/\"><FaHome /> Trang chủ</Link></li>\r\n                <li className=\"breadcrumb-item active\" aria-current=\"page\">Đăng bài viết</li>\r\n              </ol>\r\n            </nav>\r\n            \r\n            <Card className=\"shadow-sm\">\r\n              <Card.Body className=\"p-4\">\r\n                <h2 className=\"text-center mb-4\">Đăng bài viết mới</h2>\r\n                \r\n                {!isLoggedIn && (\r\n                  <Alert variant=\"info\" className=\"mb-4\">\r\n                    <FaInfoCircle className=\"me-2\" />\r\n                    Bạn đang đăng bài với tư cách khách. Bài viết sẽ được kiểm duyệt trước khi xuất bản.\r\n                    Để quản lý bài viết tốt hơn, vui lòng <Link to=\"/login\">đăng nhập</Link>.\r\n                  </Alert>\r\n                )}\r\n                \r\n                {submitSuccess && (\r\n                  <Alert variant=\"success\">\r\n                    <div className=\"text-center\">\r\n                      <div className=\"success-checkmark\">\r\n                        <div className=\"check-icon\">\r\n                          <span className=\"icon-line line-tip\"></span>\r\n                          <span className=\"icon-line line-long\"></span>\r\n                          <div className=\"icon-circle\"></div>\r\n                          <div className=\"icon-fix\"></div>\r\n                        </div>\r\n                      </div>\r\n                      <h5>Gửi bài viết thành công!</h5>\r\n                      <p>Bài viết của bạn đã được gửi và đang chờ phê duyệt từ quản trị viên.</p>\r\n                      <p>Bài viết sẽ được hiển thị công khai sau khi được phê duyệt.</p>\r\n                      \r\n                      <div className=\"mt-4\">\r\n                        {isLoggedIn ? (\r\n                          <>\r\n                            <p>Bạn có thể theo dõi trạng thái bài viết trong phần \"Bài viết của tôi\".</p>\r\n                            <Button \r\n                              variant=\"primary\" \r\n                              className=\"me-2\" \r\n                              onClick={() => navigate('/my-posts')}\r\n                            >\r\n                              Xem bài viết của tôi\r\n                            </Button>\r\n                          </>\r\n                        ) : (\r\n                          <>\r\n                            <p>Bạn có thể quay lại trang chủ hoặc đăng bài viết mới.</p>\r\n                          </>\r\n                        )}\r\n                        <Button \r\n                          variant=\"outline-primary\" \r\n                          onClick={() => {\r\n                            setSubmitSuccess(false);\r\n                            setShowPreview(false);\r\n                          }}\r\n                        >\r\n                          Đăng bài viết mới\r\n                        </Button>\r\n                      </div>\r\n                    </div>\r\n                  </Alert>\r\n                )}\r\n                \r\n                {submitError && (\r\n                  <Alert variant=\"danger\">\r\n                    <FaExclamationCircle className=\"me-2\" />\r\n                    {submitError}\r\n                  </Alert>\r\n                )}\r\n                \r\n                {Object.keys(errors).length > 0 && (\r\n                  <Alert variant=\"danger\">\r\n                    <h5>Vui lòng sửa các lỗi sau:</h5>\r\n                    <ul className=\"mb-0\">\r\n                      {Object.values(errors).map((error, index) => (\r\n                        <li key={index}>{error}</li>\r\n                      ))}\r\n                    </ul>\r\n                  </Alert>\r\n                )}\r\n                \r\n                {!submitSuccess && !showPreview && (\r\n                  <Form onSubmit={handleSubmit}>\r\n                    <Form.Group className=\"mb-3\">\r\n                      <Form.Label>\r\n                        <FaPen className=\"me-2\" />\r\n                        Tiêu đề\r\n                      </Form.Label>\r\n                      <Form.Control\r\n                        type=\"text\"\r\n                        name=\"title\"\r\n                        value={formData.title}\r\n                        onChange={handleChange}\r\n                        isInvalid={!!errors.title}\r\n                        placeholder=\"Nhập tiêu đề bài viết\"\r\n                      />\r\n                      <Form.Control.Feedback type=\"invalid\">\r\n                        {errors.title}\r\n                      </Form.Control.Feedback>\r\n                      <Form.Text className=\"text-muted\">\r\n                        Tiêu đề nên ngắn gọn, hấp dẫn và mô tả được nội dung bài viết (tối thiểu 10 ký tự)\r\n                      </Form.Text>\r\n                    </Form.Group>\r\n                    \r\n                    <Form.Group className=\"mb-3\">\r\n                      <Form.Label>\r\n                        <FaTag className=\"me-2\" />\r\n                        Danh mục\r\n                      </Form.Label>\r\n                      <Form.Select\r\n                        name=\"category\"\r\n                        value={formData.category}\r\n                        onChange={handleChange}\r\n                        isInvalid={!!errors.category}\r\n                      >\r\n                        <option value=\"\">Chọn danh mục</option>\r\n                        {categories.map((category, index) => (\r\n                          <option key={index} value={category}>\r\n                            {category}\r\n                          </option>\r\n                        ))}\r\n                      </Form.Select>\r\n                      <Form.Control.Feedback type=\"invalid\">\r\n                        {errors.category}\r\n                      </Form.Control.Feedback>\r\n                    </Form.Group>\r\n                    \r\n                    <Form.Group className=\"mb-3\">\r\n                      <Form.Label>Tóm tắt</Form.Label>\r\n                      <Form.Control\r\n                        as=\"textarea\"\r\n                        rows={3}\r\n                        name=\"summary\"\r\n                        value={formData.summary}\r\n                        onChange={handleChange}\r\n                        isInvalid={!!errors.summary}\r\n                        placeholder=\"Nhập tóm tắt nội dung bài viết\"\r\n                      />\r\n                      <Form.Control.Feedback type=\"invalid\">\r\n                        {errors.summary}\r\n                      </Form.Control.Feedback>\r\n                      <Form.Text className=\"text-muted\">\r\n                        Tóm tắt ngắn gọn nội dung chính của bài viết (tối thiểu 30 ký tự)\r\n                      </Form.Text>\r\n                    </Form.Group>\r\n                    \r\n                    <Form.Group className=\"mb-3\">\r\n                      <Form.Label>Nội dung</Form.Label>\r\n                      <Form.Control\r\n                        as=\"textarea\"\r\n                        rows={10}\r\n                        name=\"content\"\r\n                        value={formData.content}\r\n                        onChange={handleChange}\r\n                        isInvalid={!!errors.content}\r\n                        placeholder=\"Nhập nội dung đầy đủ của bài viết\"\r\n                      />\r\n                      <Form.Control.Feedback type=\"invalid\">\r\n                        {errors.content}\r\n                      </Form.Control.Feedback>\r\n                      <Form.Text className=\"text-muted\">\r\n                        Bạn có thể sử dụng HTML cơ bản để định dạng bài viết (thẻ p, h2, h3, strong, em, ul, li, a...). \r\n                        Nội dung cần tối thiểu 100 ký tự.\r\n                      </Form.Text>\r\n                    </Form.Group>\r\n                    \r\n                    <Form.Group className=\"mb-3\">\r\n                      <Form.Label>\r\n                        <FaImage className=\"me-2\" />\r\n                        Đường dẫn hình ảnh\r\n                      </Form.Label>\r\n                      <Form.Control\r\n                        type=\"text\"\r\n                        name=\"image\"\r\n                        value={formData.image}\r\n                        onChange={handleChange}\r\n                        isInvalid={!!errors.image}\r\n                        placeholder=\"Nhập đường dẫn hình ảnh đại diện cho bài viết\"\r\n                      />\r\n                      <Form.Control.Feedback type=\"invalid\">\r\n                        {errors.image}\r\n                      </Form.Control.Feedback>\r\n                      <Form.Text className=\"text-muted\">\r\n                        Nhập đường dẫn hình ảnh (ví dụ: /assets/img/portfolio/thumbnails/1.jpg) hoặc URL đầy đủ\r\n                      </Form.Text>\r\n                    </Form.Group>\r\n                    \r\n                    <Form.Group className=\"mb-4\">\r\n                      <Form.Label>\r\n                        <FaUser className=\"me-2\" />\r\n                        Tác giả\r\n                      </Form.Label>\r\n                      <Form.Control\r\n                        type=\"text\"\r\n                        name=\"author\"\r\n                        value={formData.author}\r\n                        onChange={handleChange}\r\n                        isInvalid={!!errors.author}\r\n                        placeholder=\"Nhập tên tác giả\"\r\n                        readOnly={isLoggedIn}\r\n                      />\r\n                      <Form.Control.Feedback type=\"invalid\">\r\n                        {errors.author}\r\n                      </Form.Control.Feedback>\r\n                      {isLoggedIn ? (\r\n                        <Form.Text className=\"text-muted\">\r\n                          Bài viết sẽ được đăng với tên người dùng của bạn\r\n                        </Form.Text>\r\n                      ) : (\r\n                        <Form.Text className=\"text-muted\">\r\n                          Nhập tên của bạn để hiển thị cùng bài viết\r\n                        </Form.Text>\r\n                      )}\r\n                    </Form.Group>\r\n                    \r\n                    <div className=\"d-grid gap-2\">\r\n                      <div className=\"d-flex gap-2\">\r\n                        <Button \r\n                          variant=\"outline-primary\" \r\n                          className=\"w-50\"\r\n                          onClick={togglePreview}\r\n                        >\r\n                          Xem trước\r\n                        </Button>\r\n                        <Button \r\n                          type=\"submit\" \r\n                          variant=\"primary\" \r\n                          className=\"w-50\"\r\n                          disabled={isSubmitting}\r\n                        >\r\n                          {isSubmitting ? (\r\n                            <>\r\n                              <Spinner\r\n                                as=\"span\"\r\n                                animation=\"border\"\r\n                                size=\"sm\"\r\n                                role=\"status\"\r\n                                aria-hidden=\"true\"\r\n                                className=\"me-2\"\r\n                              />\r\n                              Đang gửi...\r\n                            </>\r\n                          ) : (\r\n                            <>\r\n                              <FaSave className=\"me-2\" /> Gửi bài viết\r\n                            </>\r\n                          )}\r\n                        </Button>\r\n                      </div>\r\n                      \r\n                      <Button \r\n                        variant=\"outline-secondary\" \r\n                        onClick={() => navigate('/')}\r\n                      >\r\n                        Hủy và quay lại\r\n                      </Button>\r\n                    </div>\r\n                    \r\n                    <Alert variant=\"warning\" className=\"mt-4\">\r\n                      <FaInfoCircle className=\"me-2\" />\r\n                      <strong>Lưu ý:</strong> Bài viết sẽ được kiểm duyệt trước khi xuất bản. Quá trình này có thể mất từ 24-48 giờ.\r\n                    </Alert>\r\n                  </Form>\r\n                )}\r\n                \r\n                {!submitSuccess && showPreview && (\r\n                  <div className=\"article-preview\">\r\n                    <Alert variant=\"info\" className=\"mb-4\">\r\n                      <FaInfoCircle className=\"me-2\" />\r\n                      <strong>Chế độ xem trước:</strong> Đây là cách bài viết của bạn sẽ hiển thị sau khi được phê duyệt.\r\n                    </Alert>\r\n                    \r\n                    <h3 className=\"mb-3\">{formData.title || \"Tiêu đề bài viết\"}</h3>\r\n                    \r\n                    <div className=\"d-flex align-items-center mb-3\">\r\n                      <span className=\"badge bg-primary me-2\">{formData.category || \"Danh mục\"}</span>\r\n                      <small className=\"text-muted me-3\">\r\n                        <FaUser className=\"me-1\" /> {formData.author || \"Tác giả\"}\r\n                      </small>\r\n                    </div>\r\n                    \r\n                    {formData.image && (\r\n                      <img \r\n                        src={formData.image} \r\n                        alt={formData.title} \r\n                        className=\"img-fluid rounded mb-3\" \r\n                        style={{ maxHeight: '300px', objectFit: 'cover', width: '100%' }}\r\n                        onError={(e) => {\r\n                          e.target.onerror = null;\r\n                          e.target.src = '/assets/img/placeholder.jpg';\r\n                          e.target.alt = 'Ảnh không khả dụng';\r\n                        }}\r\n                      />\r\n                    )}\r\n                    \r\n                    <div className=\"mb-4\">\r\n                      <h5 className=\"mb-2\">Tóm tắt:</h5>\r\n                      <p>{formData.summary || \"Tóm tắt nội dung bài viết\"}</p>\r\n                    </div>\r\n                    \r\n                    <div className=\"mb-4\">\r\n                      <h5 className=\"mb-2\">Nội dung:</h5>\r\n                      <div dangerouslySetInnerHTML={{ __html: formData.content || \"<p>Nội dung bài viết</p>\" }}></div>\r\n                    </div>\r\n                    \r\n                    <div className=\"d-flex gap-2 mt-4\">\r\n                      <Button \r\n                        variant=\"outline-secondary\" \r\n                        className=\"w-50\"\r\n                        onClick={togglePreview}\r\n                      >\r\n                        Trở lại chỉnh sửa\r\n                      </Button>\r\n                      <Button \r\n                        variant=\"primary\" \r\n                        className=\"w-50\"\r\n                        onClick={handleSubmit}\r\n                        disabled={isSubmitting}\r\n                      >\r\n                        {isSubmitting ? (\r\n                          <>\r\n                            <Spinner\r\n                              as=\"span\"\r\n                              animation=\"border\"\r\n                              size=\"sm\"\r\n                              role=\"status\"\r\n                              aria-hidden=\"true\"\r\n                              className=\"me-2\"\r\n                            />\r\n                            Đang gửi...\r\n                          </>\r\n                        ) : (\r\n                          <>\r\n                            <FaSave className=\"me-2\" /> Gửi bài viết\r\n                          </>\r\n                        )}\r\n                      </Button>\r\n                    </div>\r\n                  </div>\r\n                )}\r\n              </Card.Body>\r\n            </Card>\r\n          </Col>\r\n        </Row>\r\n      </Container>\r\n      <Footer />\r\n    </>\r\n  );\r\n}\r\n\r\nexport default BlogPostForm;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}